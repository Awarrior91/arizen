<!DOCTYPE html>
<html>
<head>
    <title>Arizen: Login</title>
    <link rel="stylesheet" href="resources/login_styles.css">
    <script src="resources/jquery-1.7.min.js"></script>
</head>

<body>
<div id="container">
    <h1>Password Authentication</h1>
    <form>
        <ul>
            <li>
                <label for="username">Username:</label>
                <span><input id="username" name="username" type="text"/></span>
            </li>
            <li>
                <label for="pswd">Password:</label>
                <span><input id="pswd" name="pswd" type="password"/></span>
            </li>
            <li>
                <button id="btSubmit" name="btSubmit" type="submit">Login</button>
            </li>
        </ul>
    </form>
</div>

<script type="text/javascript">
    $('#btSubmit').click(function(){
        location.href="./wallet.html";
        console.log("Login was successful - redirecting to wallet.html");
        return false;
    });

    $(document).ready(function () {
        let usr_val = null;
        let pswd_val = null;
        let usr = false;
        let psw = false;

        // username conditions
        $('input[id=username]').keyup(function () {
            usr_val = $(this).val();

            // validate the length
            if (usr_val.length >= 4) {
                usr = true;
            } else {
                usr = false;
            }
        });

        // pswd conditions
        $('input[id=pswd]').keyup(function () {
            pswd_val = $(this).val();

            // validate the length
            if (pswd_val.length >= 8) {
                psw = true;
            } else {
                psw = false;
            }
        });

        // activate submit button
        $(':input[id="btSubmit"]').prop('disabled', true);
        $('input[id="username"], input[id="pswd"]').keyup(function() {
            if($(this).val() !== '') {
                if(usr && psw){
                    $(':input[type="submit"]').prop('disabled', false);
                }
            }
        });
    });
</script>
</body>
</html>